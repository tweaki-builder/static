"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3987],{3987:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var n=a(5034),i=a(169),r=a(4246),s=a(7378),d=a(6677),o=a(567),c=a(403),l=a(3791),m=a(7610),u=a(1607),p=a(9358),f=a(7720);let g={card:"card",cardTitle:"card__title",cardImageContainer:"card__image-container",cardPressed:"card--pressed",desktop:"desktop",cardSaveButton:"card__save-button",cardInfo:"card__info",cardDate:"card__date",cardDescription:"card__description",cardDescriptionHidden:"card__description--hidden"},v={day:"2-digit",month:"2-digit",year:"numeric"},E=({title:e,description:t,date:a,dateEnd:n,link:i,showSaveButton:r=!1,isSaved:d=!1,image:l=null,onClick:m,linkLocale:f,i18n:E={}})=>{let{date:h="Date",startFrom:S="Start from"}=E,[w,_]=(0,s.useState)(!1),k=a?.toLocaleDateString("fi",v),B=n?.toLocaleDateString("fi",v);return s.createElement(u.L,{"data-testid":"card",href:i,locale:f,disableLinkTextStyle:!0,className:(0,c.c)(g.card,w&&g.cardPressed),onMouseDown:()=>_(!0),onMouseUp:()=>_(!1),onMouseLeave:()=>_(!1)},s.createElement("div",{className:(0,c.c)(g.cardImageContainer),"data-testid":"card-image",itemScope:!0,itemType:"https://schema.org/ImageObject"},l&&s.createElement(o.I,{credits:l.credits,src:l.src,width:l.width,height:l.height,altText:l.altText,imageLoader:l.imageLoader,styling:l.styling}),s.createElement("div",{className:(0,c.c)(g.cardSaveButton)},r&&s.createElement(p.B.Save,{iconFilled:d,onMouseDown:e=>e.stopPropagation(),onClick(e){e?.preventDefault(),m?.()},"data-testid":"card-save-button"}))),s.createElement("div",{className:(0,c.c)(g.cardInfo),"data-testid":"card-content"},a&&s.createElement("p",{className:(0,c.c)(g.cardDate,c.t.textsLeadText)},s.createElement("meta",{itemProp:"datePublished",content:a.toISOString()}),`${B&&B!==k?S:h} ${k}`),s.createElement("div",{className:g.cardTitle},s.createElement("p",{className:c.t.textsComponentTitleBold,itemProp:"name"},e)),s.createElement("p",{className:(0,c.c)(g.cardDescription,c.t.textsLeadText),itemProp:"description"},t)))},h={swiperSlide:"swiper-slide",desktop:"desktop",recommendations:"recommendations",swiper:"swiper",recommendationsBlock:"recommendations__block",recommendationsHeader:"recommendations__header",recommendationsTitle:"recommendations__title",recommendationsNavigation:"recommendations__navigation",recommendationsSeparator:"recommendations__separator",recommendationsContents:"recommendations__contents"};function S({title:e,cards:t}){let a=(0,s.useRef)(null),[n,i]=(0,s.useState)(!0),[r,d]=(0,s.useState)(!1),o=(0,s.useSyncExternalStore)(w,_,()=>0),u=(0,s.useMemo)(()=>o>m.D.xl,[o]);(0,s.useEffect)(()=>{let e=a.current;if(u&&e){let n=(o-1216)/2;e.params.slidesOffsetBefore=n,e.params.slidesOffsetAfter=n,e.update()}e&&t&&(e.slideTo(0),d(!e.allowSlideNext||e.isEnd))},[t,o,u]);let g=(0,s.useCallback)(e=>{if(i(e.isBeginning),u&&t){let a=t.length%3==0?3:2;d(e.snapIndex>=Math.trunc(t.length/a)-1||e.isEnd)}else d(e.isEnd)},[t,u]),v=e=>{let t=a.current;t&&("previous"===e?t?.slidePrev():t?.slideNext())};return s.createElement(f.B,{"data-testid":"recommendations-block",topPadding:f.B.Padding.SMALL,bottomPadding:f.B.Padding.LARGE},s.createElement(f.B.Content,{"data-testid":"recommendations-content"},s.createElement("div",{className:(0,c.c)(h.recommendationsHeader),"data-testid":"recommendations-header"},s.createElement("p",{className:(0,c.c)(h.recommendationsTitle,c.t.headingSection)},e),r&&n?null:s.createElement("div",{className:(0,c.c)(h.recommendationsNavigation),"data-testid":"recommendations-navigation-container"},s.createElement(p.B.Arrow,{disabled:n,arrowDirection:"left",onClick:()=>v("previous"),"data-testid":"prev"}),s.createElement("div",{className:(0,c.c)(h.recommendationsSeparator)}),s.createElement(p.B.Arrow,{disabled:r,arrowDirection:"right",onClick:()=>v("next"),"data-testid":"next"})))),t&&s.createElement(f.B.Content,{limitedWidth:!1},s.createElement("div",{className:(0,c.c)(h.recommendations),"data-testid":"recommendations-container"},s.createElement(l.S,{slidesPerView:"auto",spaceBetween:20,slidesPerGroup:1,centeredSlides:!1,speed:500,preventClicks:!1,preventClicksPropagation:!1,touchStartPreventDefault:!1,slidesOffsetAfter:20,slidesOffsetBefore:20,onSlideChange:g,onSwiper(e){a.current=e},breakpoints:{[m.D.sm]:{slidesPerGroup:2,spaceBetween:20,slidesOffsetBefore:64,slidesOffsetAfter:64},[m.D.md]:{slidesPerGroup:2,spaceBetween:24,slidesOffsetBefore:64,slidesOffsetAfter:64},[m.D.lg]:{slidesPerGroup:3,spaceBetween:32,slidesOffsetBefore:80,slidesOffsetAfter:80},[m.D.xl]:{slidesPerGroup:t.length<6?5===t.length?2:1:3,spaceBetween:32,slidesOffsetBefore:112,slidesOffsetAfter:112}}},t.map((e,t)=>s.createElement(l.a,{key:t,"data-testid":"recommendation"},s.createElement(E,{...e})))))))}function w(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function _(){return window.innerWidth}var k=a(9800),B=a(5884),D=a(2433),P=a(981),C=a(4847),x=a(7581),N=a(1334);function L(e){var t,a,c,l,m,u,p,f,g=e.title,v=e.matchingNodes,E=(t=(0,d.useRouter)().isPreview,a=(0,k.$G)().t,c=(0,P.Z)().isEmployerSite,l=(0,D.Z)(),m=l.isSaved,u=l.toggleItemInLocalStorage,p=(0,C.Z)(),f=(0,s.useCallback)(function(e){e&&u((0,N.P)(e))},[u]),(0,s.useCallback)(function(e){var r,s,d=e["@id"],l=e.eventDateStart?new Date(e.eventDateStart):void 0,u=e.eventDateEnd?new Date(e.eventDateEnd):void 0,g=p(null==e?void 0:e.introductionImage,{maxViewport:B.l_.xs}),v=(0,i.Z)((0,n.Z)({},g),{altText:e.title,styling:o.a.CARD,credits:null===(r=e.introductionImage)||void 0===r?void 0:null===(s=r.metadata)||void 0===s?void 0:s.rights});return{id:d,title:e.title,description:e.description,image:v,date:l,dateEnd:u,showSaveButton:!c,link:(0,x.Jd)(e["@path"],t),isSaved:m(d),onClick:function(){return f(e)},i18n:{date:a("dates.date"),startFrom:a("dates.startFrom")}}},[p,t,m,a,f,c,])),h=(0,s.useMemo)(function(){return v.map(E)},[v,E]).sort(function(e,t){return e.date&&t.date?e.date.getTime()-t.date.getTime():0});return 0===h.length?null:(0,r.jsx)(S,{cards:h,title:g})}},1334:function(e,t,a){a.d(t,{P:function(){return n}});var n=function(e){var t,a=e["@id"],n=e["@path"],i=e.title;return{id:a,title:i,description:e.description,pageLink:n,image:e.introductionImage,type:"masonryCard"}}}}]);
//# sourceMappingURL=3987.fc41a5f51072949f.js.map